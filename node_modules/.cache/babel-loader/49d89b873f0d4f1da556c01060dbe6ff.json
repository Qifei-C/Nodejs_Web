{"ast":null,"code":"import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport { useState } from 'react';\nimport usePopper from './usePopper';\nimport useRootClose from './useRootClose';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport mergeOptionsWithPopperConfig from './mergeOptionsWithPopperConfig';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/**\n * Built on top of `Popper.js`, the overlay component is\n * great for custom tooltip overlays.\n */\nconst Overlay = /*#__PURE__*/React.forwardRef((props, outerRef) => {\n  const {\n    flip,\n    offset,\n    placement,\n    containerPadding,\n    popperConfig = {},\n    transition: Transition\n  } = props;\n  const [rootElement, attachRef] = useCallbackRef();\n  const [arrowElement, attachArrowRef] = useCallbackRef();\n  const mergedRef = useMergedRefs(attachRef, outerRef);\n  const container = useWaitForDOMRef(props.container);\n  const target = useWaitForDOMRef(props.target);\n  const [exited, setExited] = useState(!props.show);\n  const popper = usePopper(target, rootElement, mergeOptionsWithPopperConfig({\n    placement,\n    enableEvents: !!props.show,\n    containerPadding: containerPadding || 5,\n    flip,\n    offset,\n    arrowElement,\n    popperConfig\n  }));\n  if (props.show) {\n    if (exited) setExited(false);\n  } else if (!props.transition && !exited) {\n    setExited(true);\n  }\n  const handleHidden = (...args) => {\n    setExited(true);\n    if (props.onExited) {\n      props.onExited(...args);\n    }\n  }; // Don't un-render the overlay while it's transitioning out.\n\n  const mountOverlay = props.show || Transition && !exited;\n  useRootClose(rootElement, props.onHide, {\n    disabled: !props.rootClose || props.rootCloseDisabled,\n    clickTrigger: props.rootCloseEvent\n  });\n  if (!mountOverlay) {\n    // Don't bother showing anything if we don't have to.\n    return null;\n  }\n  let child = props.children(Object.assign({}, popper.attributes.popper, {\n    style: popper.styles.popper,\n    ref: mergedRef\n  }), {\n    popper,\n    placement,\n    show: !!props.show,\n    arrowProps: Object.assign({}, popper.attributes.arrow, {\n      style: popper.styles.arrow,\n      ref: attachArrowRef\n    })\n  });\n  if (Transition) {\n    const {\n      onExit,\n      onExiting,\n      onEnter,\n      onEntering,\n      onEntered\n    } = props;\n    child = /*#__PURE__*/_jsx(Transition, {\n      in: props.show,\n      appear: true,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: handleHidden,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      children: child\n    });\n  }\n  return container ? /*#__PURE__*/ReactDOM.createPortal(child, container) : null;\n});\nOverlay.displayName = 'Overlay';\nexport default Overlay;","map":{"version":3,"names":["React","ReactDOM","useCallbackRef","useMergedRefs","useState","usePopper","useRootClose","useWaitForDOMRef","mergeOptionsWithPopperConfig","jsx","_jsx","Overlay","forwardRef","props","outerRef","flip","offset","placement","containerPadding","popperConfig","transition","Transition","rootElement","attachRef","arrowElement","attachArrowRef","mergedRef","container","target","exited","setExited","show","popper","enableEvents","handleHidden","args","onExited","mountOverlay","onHide","disabled","rootClose","rootCloseDisabled","clickTrigger","rootCloseEvent","child","children","Object","assign","attributes","style","styles","ref","arrowProps","arrow","onExit","onExiting","onEnter","onEntering","onEntered","in","appear","createPortal","displayName"],"sources":["/Users/qifei/qifei-port/node_modules/@restart/ui/esm/Overlay.js"],"sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport { useState } from 'react';\nimport usePopper from './usePopper';\nimport useRootClose from './useRootClose';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport mergeOptionsWithPopperConfig from './mergeOptionsWithPopperConfig';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/**\n * Built on top of `Popper.js`, the overlay component is\n * great for custom tooltip overlays.\n */\nconst Overlay = /*#__PURE__*/React.forwardRef((props, outerRef) => {\n  const {\n    flip,\n    offset,\n    placement,\n    containerPadding,\n    popperConfig = {},\n    transition: Transition\n  } = props;\n  const [rootElement, attachRef] = useCallbackRef();\n  const [arrowElement, attachArrowRef] = useCallbackRef();\n  const mergedRef = useMergedRefs(attachRef, outerRef);\n  const container = useWaitForDOMRef(props.container);\n  const target = useWaitForDOMRef(props.target);\n  const [exited, setExited] = useState(!props.show);\n  const popper = usePopper(target, rootElement, mergeOptionsWithPopperConfig({\n    placement,\n    enableEvents: !!props.show,\n    containerPadding: containerPadding || 5,\n    flip,\n    offset,\n    arrowElement,\n    popperConfig\n  }));\n\n  if (props.show) {\n    if (exited) setExited(false);\n  } else if (!props.transition && !exited) {\n    setExited(true);\n  }\n\n  const handleHidden = (...args) => {\n    setExited(true);\n\n    if (props.onExited) {\n      props.onExited(...args);\n    }\n  }; // Don't un-render the overlay while it's transitioning out.\n\n\n  const mountOverlay = props.show || Transition && !exited;\n  useRootClose(rootElement, props.onHide, {\n    disabled: !props.rootClose || props.rootCloseDisabled,\n    clickTrigger: props.rootCloseEvent\n  });\n\n  if (!mountOverlay) {\n    // Don't bother showing anything if we don't have to.\n    return null;\n  }\n\n  let child = props.children(Object.assign({}, popper.attributes.popper, {\n    style: popper.styles.popper,\n    ref: mergedRef\n  }), {\n    popper,\n    placement,\n    show: !!props.show,\n    arrowProps: Object.assign({}, popper.attributes.arrow, {\n      style: popper.styles.arrow,\n      ref: attachArrowRef\n    })\n  });\n\n  if (Transition) {\n    const {\n      onExit,\n      onExiting,\n      onEnter,\n      onEntering,\n      onEntered\n    } = props;\n    child = /*#__PURE__*/_jsx(Transition, {\n      in: props.show,\n      appear: true,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: handleHidden,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      children: child\n    });\n  }\n\n  return container ? /*#__PURE__*/ReactDOM.createPortal(child, container) : null;\n});\nOverlay.displayName = 'Overlay';\nexport default Overlay;"],"mappings":"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"},"metadata":{},"sourceType":"module"}